<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright 2012 Google Inc. All Rights Reserved -->
<!-- Required options: branch build-flavor -->
<configuration description="common definitions for stability monkey">
    <option name="upload-file-pattern" key="/data/anr/traces.txt" value="TEXT" />
    <option name="upload-file-pattern" key="/data/anr/anr_*" value="TEXT" />
    <option name="test-tag" value="MonkeyComboTest_StabilityMonkey" />
    <build_provider class="com.google.android.tradefed.build.DeviceLaunchControlProvider">
        <option name="build-blacklist" value="/home/build/google3/wireless/android/test_tools/tradefed/common/build_blacklist.txt" />
    </build_provider>
    <device_recovery class="com.google.android.tradefed.device.NcdDeviceRecovery">
        <option name="ncd" value="false" />
    </device_recovery>
    <target_preparer class="com.android.tradefed.targetprep.RunCommandTargetPreparer">
        <option name="run-command" value="rm -r ${EXTERNAL_STORAGE}/DCIM"/>
    </target_preparer>
    <target_preparer class="com.google.android.tradefed.targetprep.GoogleDeviceSetup" >
        <option name="wifi-network" value="GoogleGuest" />
        <option name="local-data-path" value="/google/data/ro/teams/tradefed/testdata/monkey_system/sdcard" />
    </target_preparer>
    <!-- Left blank so unbundled apps can be added -->
    <target_preparer class="com.android.tradefed.targetprep.InstallApkSetup" />
    <target_preparer class="com.android.tradefed.targetprep.TimeWaster" />
    <target_preparer class="com.google.android.tradefed.targetprep.DeviceLauncherConfigurator" />
    <target_preparer class="com.android.tradefed.targetprep.PushFilePreparer" >
        <option name="push" value="/google/data/ro/teams/tradefed/testdata/monkey_system/vending_preferences.xml->/data/data/com.android.vending/shared_prefs/vending_preferences.xml" />
        <option name="push" value="/google/data/ro/teams/tradefed/testdata/monkey_system/AndroidMail.Main.xml->/data/data/com.android.email/shared_prefs/AndroidMail.Main.xml" />
        <option name="post-push" value="chmod 0777 /data/data/com.android.vending/shared_prefs/vending_preferences.xml" />
    </target_preparer>
    <target_preparer class="com.google.android.monkey.MonkeyAccountPreparer" >
        <option name="account-sync" value="true" />
        <option name="sync-then-off" value="300" />
    </target_preparer>
    <target_preparer class="com.android.tradefed.targetprep.FolderSaver" />
    <target_preparer class="com.android.tradefed.targetprep.DeviceCleaner" />
    <test class="com.android.monkey.MonkeyBase">
        <option name="category" value="android.intent.category.LAUNCHER" />
        <option name="target-count" value="125000" />
        <option name="idle-time" value="0" />
    </test>
    <logger class="com.android.tradefed.log.FileLogger" />
    <log_saver class="com.android.tradefed.result.FileSystemLogSaver">
        <option name="log-file-path" value="/auto/android-test/www/test_logs" />
        <option name="log-file-url" value="http://android-test/www/test_logs" />
    </log_saver>
    <result_reporter class="com.google.android.tradefed.result.SpongeResultReporter" />
    <result_reporter class="com.google.android.tradefed.result.InspectBugResultReporter">
        <option name="suite-key" value="system_stability" />
        <!-- Default suite-instance-key to 0 so that there's a common value across all suites -->
        <option name="suite-instance-key" value="0" />
    </result_reporter>
</configuration>
